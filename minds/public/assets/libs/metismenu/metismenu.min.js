!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).metisMenu=t(e.$)}(this,(function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e);const n=(e=>{const t="transitionend",n={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd(n){e(n).trigger(t)},supportsTransitionEnd:()=>Boolean(t)};return e.fn.mmEmulateTransitionEnd=function(t){let i=!1;return e(this).one(n.TRANSITION_END,(()=>{i=!0})),setTimeout((()=>{i||n.triggerTransitionEnd(this)}),t),this},e.event.special[n.TRANSITION_END]={bindType:t,delegateType:t,handle(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},n})(t.default),i="metisMenu",s="metisMenu",r=t.default.fn[i],a={toggle:!0,preventDefault:!0,triggerElement:"a",parentTrigger:"li",subMenu:"ul"},o="show.metisMenu",l="shown.metisMenu",d="hide.metisMenu",g="hidden.metisMenu",h="click.metisMenu.data-api",f="mm-active",u="mm-show",c="mm-collapse",m="mm-collapsing";class p{constructor(e,t){this.element=e,this.config={...a,...t},this.transitioning=null,this.init()}init(){const e=this,n=this.config,i=t.default(this.element);i.addClass("metismenu"),i.find(`${n.parentTrigger}.${f}`).children(n.triggerElement).attr("aria-expanded","true"),i.find(`${n.parentTrigger}.${f}`).parents(n.parentTrigger).addClass(f),i.find(`${n.parentTrigger}.${f}`).parents(n.parentTrigger).children(n.triggerElement).attr("aria-expanded","true"),i.find(`${n.parentTrigger}.${f}`).has(n.subMenu).children(n.subMenu).addClass(`${c} ${u}`),i.find(n.parentTrigger).not(`.${f}`).has(n.subMenu).children(n.subMenu).addClass(c),i.find(n.parentTrigger).children(n.triggerElement).on(h,(function(i){const s=t.default(this);if("true"===s.attr("aria-disabled"))return;n.preventDefault&&"#"===s.attr("href")&&i.preventDefault();const r=s.parent(n.parentTrigger),a=r.siblings(n.parentTrigger),o=a.children(n.triggerElement);r.hasClass(f)?(s.attr("aria-expanded","false"),e.removeActive(r)):(s.attr("aria-expanded","true"),e.setActive(r),n.toggle&&(e.removeActive(a),o.attr("aria-expanded","false"))),n.onTransitionStart&&n.onTransitionStart(i)}))}setActive(e){t.default(e).addClass(f);const n=t.default(e).children(this.config.subMenu);n.length>0&&!n.hasClass(u)&&this.show(n)}removeActive(e){t.default(e).removeClass(f);const n=t.default(e).children(`${this.config.subMenu}.${u}`);n.length>0&&this.hide(n)}show(e){if(this.transitioning||t.default(e).hasClass(m))return;const i=t.default(e),s=t.default.Event(o);if(i.trigger(s),!s.isDefaultPrevented()){if(i.parent(this.config.parentTrigger).addClass(f),this.config.toggle){const e=i.parent(this.config.parentTrigger).siblings().children(`${this.config.subMenu}.${u}`);this.hide(e)}i.removeClass(c).addClass(m).height(0),this.setTransitioning(!0),i.height(e[0].scrollHeight).one(n.TRANSITION_END,(()=>{this.config&&this.element&&(i.removeClass(m).addClass(`${c} ${u}`).height(""),this.setTransitioning(!1),i.trigger(l))})).mmEmulateTransitionEnd(350)}}hide(e){if(this.transitioning||!t.default(e).hasClass(u))return;const i=t.default(e),s=t.default.Event(d);if(i.trigger(s),s.isDefaultPrevented())return;i.parent(this.config.parentTrigger).removeClass(f),i.height(i.height())[0].offsetHeight,i.addClass(m).removeClass(c).removeClass(u),this.setTransitioning(!0);const r=()=>{this.config&&this.element&&(this.transitioning&&this.config.onTransitionEnd&&this.config.onTransitionEnd(),this.setTransitioning(!1),i.trigger(g),i.removeClass(m).addClass(c))};0===i.height()||"none"===i.css("display")?r():i.height(0).one(n.TRANSITION_END,r).mmEmulateTransitionEnd(350)}setTransitioning(e){this.transitioning=e}dispose(){t.default.removeData(this.element,s),t.default(this.element).find(this.config.parentTrigger).children(this.config.triggerElement).off(h),this.transitioning=null,this.config=null,this.element=null}static jQueryInterface(e){return this.each((function(){const n=t.default(this);let i=n.data(s);const r={...a,...n.data(),..."object"==typeof e&&e?e:{}};if(i||(i=new p(this,r),n.data(s,i)),"string"==typeof e){if(void 0===i[e])throw new Error(`No method named "${e}"`);i[e]()}}))}}return t.default.fn[i]=p.jQueryInterface,t.default.fn[i].Constructor=p,t.default.fn[i].noConflict=()=>(t.default.fn[i]=r,p.jQueryInterface),p}));
